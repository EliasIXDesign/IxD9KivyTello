#: import Joystick joystick

<Button,ToggleButton>:
    background_color: 0.5, 0.5, 0.5, 0.5  # Grey transparent background
    color: 1, 1, 1, 1  # White text color

<MissionButton>:
    background_color: 0.5, 0.5, 0.5, 0.5  # Grey transparent background
    color: 1, 1, 1, 1  # White text color
    font_size: 50  # Set font size
    size_hint: None, None
    size: dp(200), dp(150)
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

<RedButton>:
    background_color: 255, 0, 0, 1  # Grey transparent background
    size_hint: None, None
    size: dp(200), dp(150)
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

<GreenButton>:
    background_color: 0, 255, 0, 1  # Grey transparent background
    size_hint: None, None
    size: dp(200), dp(150)
    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

<DragableJoystick>

<CoverVideo>

<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 20  # Vertical spacing between buttons
        padding: 30  # Padding around the BoxLayout

        Button:
            text: 'Mission 1'
            on_release: app.sm.current = 'mission'; app.mission_screen.start_mission(1)
            height: "30dp"
        Button:
            text: 'Mission 2'
            on_release: app.sm.current = 'mission'; app.mission_screen.start_mission(2)
            height: "30dp"
        Button:
            text: 'Mission 3'
            on_release: app.sm.current = 'mission'; app.mission_screen.start_mission(3)
            height: "30dp"
        Button:
            text: 'Mission 4'
            on_release: app.sm.current = 'mission'; app.mission_screen.start_mission(1)
            height: "30dp"

<MissionScreen>:
    id: mission_screen
    FloatLayout:
        CoverVideo:
            id: video
            drone: app.drone
            text: 'Video here'
            size_hint: 1, 1  # Cover the entire FloatLayout
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}  # Center the video
        BoxLayout:
            id: button_layer
            size_hint: 1, 1  # Take up half the FloatLayout
            orientation: 'horizontal'
            pos_hint: {'center_x': 0.87, 'center_y': 0.5}  # Center the button_layer
        BoxLayout:
            size_hint: 1, None
            height: dp(50)  # Adjust the height as needed
            orientation: 'horizontal'
            pos_hint: {'top': 1}  # Align to the bottom of the FloatLayout
            Button:
                id: return
                text: 'Return'
                on_release: app.sm.current = 'main'
            ToggleButton:
                id: takeoff
                text: 'TAKEOFF' if self.state == 'normal' else 'LAND'
                on_release: root.takeoff()  # Toggle the drone's takeoff/land
            Button:
                id: quit
                text: 'Quit'

