#: import Joystick joystick

<DragableJoystick>

<CoverVideo>

<JoystickPanel@BoxLayout>
    orientation: 'vertical'
    #pos_hint: {'top': 0.9}
    Label:
        id: label
    DragableJoystick:
        id: stick
        sticky: False

<KivyTelloRoot>:
    CoverVideo:
        source: 'http://localhost:5000/video_feed'
        state: 'play'
        #allow_stretch: True
        options: {'eos': 'loop'}
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint: 1, 0.2
            orientation: 'horizontal'
            Button:
                id: quit
                text: 'QUIT'
            ToggleButton:
                id: takeoff
                text: 'TAKEOFF' if self.state == 'normal' else 'LAND'
            ToggleButton:
                id: rotcw
                text: 'START CW' if self.state == 'normal' else 'STOP CW'
            ToggleButton:
                id: rotccw
                text: 'START CCW' if self.state == 'normal' else 'STOP CCW'
        BoxLayout:
            orientation: 'horizontal'
            JoystickPanel:
                id: pad_left
            JoystickPanel:
                id: pad_right

# KivyTelloRoot:
